Перед тем, как приступить к работе с DC двигателем, необходимо сначала ознакомиться со схемой к DC драйверу. 
Обратите внимание для чего предназначены IN1, IN2, Vref, SLEEPn
ПИН PB3(SLEEPn) необходимо выставить в HIGH  (что это за пин см в документации к драйверу) в функции setup(). 
Чтобы задать частоту ШИМа используйте функцию analogWriteFrequency(), по умолчанию она равна килогерцу (1000 Гц).

Заполнение ШИМ сигнала(duty) задается с помощью функции analogWrite()
Функция move(), которая, задает это заполнение вызывается по таймеру с частотой 1 кГц

Если вы столкнетесь с тем, что мотор не вращается(или во время вращения на какое-то время останавливается, особенно при большой разнице между подаваемыми напряжениями), то 
обратите внимание на Vref - пин PA4(см в документации к драйверу). Это защита от перегрузки по току, пин Analog OCP(Over-Current Protection) reference input, 
то есть аналоговый вход, куда подается опорное (пороговое) напряжение. 

Этот вход задаёт «уровень срабатывания» защиты:
    - чем выше напряжение, тем выше допустимый ток.
    - чем ниже - тем раньше сработает защита.

